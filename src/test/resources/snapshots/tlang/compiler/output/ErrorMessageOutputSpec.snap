========================================= should output an error message using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                              [1mThere was [31m1[0m[1m error.[0m                              │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ [1;35m1[0m:[1;35m5[0m src/a/path/to/the/File.t                                                 │
│ An error message                                                             │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [1;4;31ma[0m[36m [37m= [35m0[0m                                                                │
│ [35m2[0m │ [34mvar [36mb [37m= [35m0[0m                                                                │
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [34mvar [36md [37m= [35m0[0m                                                                │
└───┴──────────────────────────────────────────────────────────────────────────┘

========================================= should output an error message using simple formatting
 ============================================================================== 
|                              There was 1 error.                              |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| 1:5 src/a/path/to/the/File.t                                                 |
| An error message                                                             |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
|   |     ~                                                                    |
| 2 | var b = 0                                                                |
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
 ------------------------------------------------------------------------------ 

========================================= should output an error message as JSON
{"compilationWarnings":[],"compilationErrors":[{"source":"src/a/path/to/the/File.t","start":{"line":1,"col":5},"end":{"line":1,"col":6},"code":"ABC2123","message":"An error message","notes":[]}]}

========================================= should output a warning message using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                             [1mThere was [33m1[0m[1m warning.[0m                             │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [33m═════════════════════════════ Warning DEF1456 ══════════════════════════════[0m │
│ [1;35m1[0m:[1;35m5[0m src/a/path/to/the/File.t                                                 │
│ A warning message                                                            │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [1;4;33ma[0m[36m [37m= [35m0[0m                                                                │
│ [35m2[0m │ [34mvar [36mb [37m= [35m0[0m                                                                │
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [34mvar [36md [37m= [35m0[0m                                                                │
└───┴──────────────────────────────────────────────────────────────────────────┘

========================================= should output a warning message using simple formatting
 ============================================================================== 
|                             There was 1 warning.                             |
|==============================================================================|
| ============================= Warning DEF1456 ============================== |
| 1:5 src/a/path/to/the/File.t                                                 |
| A warning message                                                            |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
|   |     ~                                                                    |
| 2 | var b = 0                                                                |
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
 ------------------------------------------------------------------------------ 

========================================= should output a warning message as JSON
{"compilationWarnings":[{"source":"src/a/path/to/the/File.t","start":{"line":1,"col":5},"end":{"line":1,"col":6},"code":"DEF1456","message":"A warning message","notes":[]}],"compilationErrors":[]}

========================================= should output multiple error messages using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                             [1mThere were [31m2[0m[1m errors.[0m                             │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ [1;35m4[0m:[1;35m1[0m src/a/path/to/the/File.t                                                 │
│ An error message                                                             │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [36ma [37m= [35m0[0m                                                                │
│ [35m2[0m │ [34mvar [36mb [37m= [35m0[0m                                                                │
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [1;4;31mvar d = 0[0m                                                                │
│ [35m5[0m │ [1;4;31mvar e = 0[0m                                                                │
│ [35m6[0m │ [1;4;31mfor(var[0m[34m [36mi [37m= [36mx[37m; [36mi [37m< [35m5[37m; [36mi[37m++)[0m                                               │
│ [35m7[0m │ [36m    a[37m++[0m                                                                  │
├───┴──────────────────────────────────────────────────────────────────────────┤
│ [31m══════════════════════════════ Error DEF2456 ═══════════════════════════════[0m │
│ [1;35m10[0m:[1;35m3[0m src/a/path/to/the/File.t                                                │
│ Another error message                                                        │
├────┬─────────────────────────────────────────────────────────────────────────┤
│ [35m7[0m  │ [36ma[37m++[0m                                                                     │
│ [35m8[0m  │ [36mb[37m++[0m                                                                     │
│ [35m9[0m  │ [36mc[37m++[0m                                                                     │
│ [35m10[0m │ [1;4;31md++[0m                                                                     │
│ [35m11[0m │ [36me[37m++[0m                                                                     │
└────┴─────────────────────────────────────────────────────────────────────────┘

========================================= should output multiple error messages using simple formatting
 ============================================================================== 
|                             There were 2 errors.                             |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| 4:1 src/a/path/to/the/File.t                                                 |
| An error message                                                             |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
| 2 | var b = 0                                                                |
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
|   | ~~~~~~~~~                                                                |
| 5 | var e = 0                                                                |
|   | ~~~~~~~~~                                                                |
| 6 | for(var i = x; i < 5; i++)                                               |
|   | ~~~~~~~                                                                  |
| 7 |     a++                                                                  |
|------------------------------------------------------------------------------|
| ============================== Error DEF2456 =============================== |
| 10:3 src/a/path/to/the/File.t                                                |
| Another error message                                                        |
|------------------------------------------------------------------------------|
| 7  | a++                                                                     |
| 8  | b++                                                                     |
| 9  | c++                                                                     |
| 10 | d++                                                                     |
|    | ~~~                                                                     |
| 11 | e++                                                                     |
 ------------------------------------------------------------------------------ 

========================================= should output multiple error messages as JSON
{"compilationWarnings":[],"compilationErrors":[{"source":"src/a/path/to/the/File.t","start":{"line":4,"col":1},"end":{"line":6,"col":8},"code":"ABC2123","message":"An error message","notes":[]},{"source":"src/a/path/to/the/File.t","start":{"line":10,"col":3},"end":{"line":10,"col":6},"code":"DEF2456","message":"Another error message","notes":[]}]}

========================================= should output multiple error and warning messages using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                            [1mThere were [33m2[0m[1m warnings.[0m                            │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [33m═════════════════════════════ Warning GHI1789 ══════════════════════════════[0m │
│ [1;35m6[0m:[1;35m16[0m src/a/path/to/the/File.t                                                │
│ C                                                                            │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [34mvar [36md [37m= [35m0[0m                                                                │
│ [35m5[0m │ [34mvar [36me [37m= [35m0[0m                                                                │
│ [35m6[0m │ [34mfor[37m([34mvar [36mi [37m= [36mx[37m; [1;4;33mi < 5[0m[37m; [36mi[37m++)[0m                                               │
│ [35m7[0m │ [36m    a[37m++[0m                                                                  │
│ [35m8[0m │ [36m    b[37m++[0m                                                                  │
│ [35m9[0m │ [36m    c[37m++[0m                                                                  │
├───┴──────────────────────────────────────────────────────────────────────────┤
│ [33m═════════════════════════════ Warning JKL1112 ══════════════════════════════[0m │
│ [1;35m4[0m:[1;35m1[0m src/a/path/to/the/File.t                                                 │
│ D                                                                            │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [36ma [37m= [35m0[0m                                                                │
│ [35m2[0m │ [34mvar [36mb [37m= [35m0[0m                                                                │
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [1;4;33mvar d = 0[0m                                                                │
│ [35m5[0m │ [1;4;33mvar e = 0[0m                                                                │
│ [35m6[0m │ [1;4;33mfor(var[0m[34m [36mi [37m= [36mx[37m; [36mi [37m< [35m5[37m; [36mi[37m++)[0m                                               │
│ [35m7[0m │ [36m    a[37m++[0m                                                                  │
└───┴──────────────────────────────────────────────────────────────────────────┘
╒══════════════════════════════════════════════════════════════════════════════╕
│                             [1mThere were [31m2[0m[1m errors.[0m                             │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ [1;35m1[0m:[1;35m5[0m src/a/path/to/the/File.t                                                 │
│ A                                                                            │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [1;4;31ma[0m[36m [37m= [35m0[0m                                                                │
│ [35m2[0m │ [34mvar [36mb [37m= [35m0[0m                                                                │
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [34mvar [36md [37m= [35m0[0m                                                                │
├───┴──────────────────────────────────────────────────────────────────────────┤
│ [31m══════════════════════════════ Fatal DEF3456 ═══════════════════════════════[0m │
│ [1;35m10[0m:[1;35m3[0m src/a/path/to/the/File.t                                                │
│ B                                                                            │
├────┬─────────────────────────────────────────────────────────────────────────┤
│ [35m7[0m  │ [36ma[37m++[0m                                                                     │
│ [35m8[0m  │ [36mb[37m++[0m                                                                     │
│ [35m9[0m  │ [36mc[37m++[0m                                                                     │
│ [35m10[0m │ [1;4;31md++[0m                                                                     │
│ [35m11[0m │ [36me[37m++[0m                                                                     │
└────┴─────────────────────────────────────────────────────────────────────────┘

========================================= should output multiple error and warning messages using simple formatting
 ============================================================================== 
|                            There were 2 warnings.                            |
|==============================================================================|
| ============================= Warning GHI1789 ============================== |
| 6:16 src/a/path/to/the/File.t                                                |
| C                                                                            |
|------------------------------------------------------------------------------|
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
| 5 | var e = 0                                                                |
| 6 | for(var i = x; i < 5; i++)                                               |
|   |                ~~~~~                                                     |
| 7 |     a++                                                                  |
| 8 |     b++                                                                  |
| 9 |     c++                                                                  |
|------------------------------------------------------------------------------|
| ============================= Warning JKL1112 ============================== |
| 4:1 src/a/path/to/the/File.t                                                 |
| D                                                                            |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
| 2 | var b = 0                                                                |
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
|   | ~~~~~~~~~                                                                |
| 5 | var e = 0                                                                |
|   | ~~~~~~~~~                                                                |
| 6 | for(var i = x; i < 5; i++)                                               |
|   | ~~~~~~~                                                                  |
| 7 |     a++                                                                  |
 ------------------------------------------------------------------------------ 
 ============================================================================== 
|                             There were 2 errors.                             |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| 1:5 src/a/path/to/the/File.t                                                 |
| A                                                                            |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
|   |     ~                                                                    |
| 2 | var b = 0                                                                |
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
|------------------------------------------------------------------------------|
| ============================== Fatal DEF3456 =============================== |
| 10:3 src/a/path/to/the/File.t                                                |
| B                                                                            |
|------------------------------------------------------------------------------|
| 7  | a++                                                                     |
| 8  | b++                                                                     |
| 9  | c++                                                                     |
| 10 | d++                                                                     |
|    | ~~~                                                                     |
| 11 | e++                                                                     |
 ------------------------------------------------------------------------------ 

========================================= should output multiple error and warning messages as JSON
{"compilationWarnings":[{"source":"src/a/path/to/the/File.t","start":{"line":6,"col":16},"end":{"line":6,"col":21},"code":"GHI1789","message":"C","notes":[]},{"source":"src/a/path/to/the/File.t","start":{"line":4,"col":1},"end":{"line":6,"col":8},"code":"JKL1112","message":"D","notes":[]}],"compilationErrors":[{"source":"src/a/path/to/the/File.t","start":{"line":1,"col":5},"end":{"line":1,"col":6},"code":"ABC2123","message":"A","notes":[]},{"source":"src/a/path/to/the/File.t","start":{"line":10,"col":3},"end":{"line":10,"col":6},"code":"DEF3456","message":"B","notes":[]}]}

========================================= should output error messages with context size 0 using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                             [1mThere were [31m2[0m[1m errors.[0m                             │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ [1;35m1[0m:[1;35m5[0m src/a/path/to/the/File.t                                                 │
│ A                                                                            │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [1;4;31ma[0m[36m [37m= [35m0[0m                                                                │
├───┴──────────────────────────────────────────────────────────────────────────┤
│ [31m══════════════════════════════ Error DEF2456 ═══════════════════════════════[0m │
│ [1;35m10[0m:[1;35m3[0m src/a/path/to/the/File.t                                                │
│ B                                                                            │
├────┬─────────────────────────────────────────────────────────────────────────┤
│ [35m10[0m │ [1;4;31md++[0m                                                                     │
└────┴─────────────────────────────────────────────────────────────────────────┘

========================================= should output error messages with context size 0 using simple formatting
 ============================================================================== 
|                             There were 2 errors.                             |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| 1:5 src/a/path/to/the/File.t                                                 |
| A                                                                            |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
|   |     ~                                                                    |
|------------------------------------------------------------------------------|
| ============================== Error DEF2456 =============================== |
| 10:3 src/a/path/to/the/File.t                                                |
| B                                                                            |
|------------------------------------------------------------------------------|
| 10 | d++                                                                     |
|    | ~~~                                                                     |
 ------------------------------------------------------------------------------ 

========================================= should output error messages with context size 0 as JSON
{"compilationWarnings":[],"compilationErrors":[{"source":"src/a/path/to/the/File.t","start":{"line":1,"col":5},"end":{"line":1,"col":6},"code":"ABC2123","message":"A","notes":[]},{"source":"src/a/path/to/the/File.t","start":{"line":10,"col":3},"end":{"line":10,"col":6},"code":"DEF2456","message":"B","notes":[]}]}

========================================= should output error messages with notes using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                              [1mThere was [31m1[0m[1m error.[0m                              │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ [1;35m1[0m:[1;35m5[0m src/a/path/to/the/File.t                                                 │
│ A message with a note                                                        │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [1;4;31ma[0m[36m [37m= [35m0[0m                                                                │
│ [35m2[0m │ [34mvar [36mb [37m= [35m0[0m                                                                │
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [34mvar [36md [37m= [35m0[0m                                                                │
├───┴──────────────────────────────────────────────────────────────────────────┤
│ [1;35m10[0m:[1;35m3[0m src/a/path/to/the/File.t                                                │
│ A note                                                                       │
├────┬─────────────────────────────────────────────────────────────────────────┤
│ [35m7[0m  │ [36ma[37m++[0m                                                                     │
│ [35m8[0m  │ [36mb[37m++[0m                                                                     │
│ [35m9[0m  │ [36mc[37m++[0m                                                                     │
│ [35m10[0m │ [1;4;34md++[0m                                                                     │
│ [35m11[0m │ [36me[37m++[0m                                                                     │
└────┴─────────────────────────────────────────────────────────────────────────┘

========================================= should output error messages with notes using simple formatting
 ============================================================================== 
|                              There was 1 error.                              |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| 1:5 src/a/path/to/the/File.t                                                 |
| A message with a note                                                        |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
|   |     ~                                                                    |
| 2 | var b = 0                                                                |
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
|------------------------------------------------------------------------------|
| 10:3 src/a/path/to/the/File.t                                                |
| A note                                                                       |
|------------------------------------------------------------------------------|
| 7  | a++                                                                     |
| 8  | b++                                                                     |
| 9  | c++                                                                     |
| 10 | d++                                                                     |
|    | ~~~                                                                     |
| 11 | e++                                                                     |
 ------------------------------------------------------------------------------ 

========================================= should output error messages with notes as JSON
{"compilationWarnings":[],"compilationErrors":[{"source":"src/a/path/to/the/File.t","start":{"line":1,"col":5},"end":{"line":1,"col":6},"code":"ABC2123","message":"A message with a note","notes":[{"source":"src/a/path/to/the/File.t","start":{"line":10,"col":3},"end":{"line":10,"col":6},"code":"ABC123","message":"A note","notes":[]}]}]}

========================================= should output only maximum errors using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│           [1mThere were more than [31m3[0m[1m errors, only showing the first [31m3[0m[0m.           │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ [1;35m1[0m:[1;35m5[0m src/a/path/to/the/File.t                                                 │
│ Message 1                                                                    │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [1;4;31ma[0m[36m [37m= [35m0[0m                                                                │
│ [35m2[0m │ [34mvar [36mb [37m= [35m0[0m                                                                │
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [34mvar [36md [37m= [35m0[0m                                                                │
├───┴──────────────────────────────────────────────────────────────────────────┤
│ [31m══════════════════════════════ Error DEF2234 ═══════════════════════════════[0m │
│ [1;35m10[0m:[1;35m3[0m src/a/path/to/the/File.t                                                │
│ Message 2                                                                    │
├────┬─────────────────────────────────────────────────────────────────────────┤
│ [35m7[0m  │ [36ma[37m++[0m                                                                     │
│ [35m8[0m  │ [36mb[37m++[0m                                                                     │
│ [35m9[0m  │ [36mc[37m++[0m                                                                     │
│ [35m10[0m │ [1;4;31md++[0m                                                                     │
│ [35m11[0m │ [36me[37m++[0m                                                                     │
├────┴─────────────────────────────────────────────────────────────────────────┤
│ [31m══════════════════════════════ Error GHI2345 ═══════════════════════════════[0m │
│ [1;35m6[0m:[1;35m16[0m src/a/path/to/the/File.t                                                │
│ Message 2                                                                    │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m3[0m │ [34mvar [36mc [37m= [35m0[0m                                                                │
│ [35m4[0m │ [34mvar [36md [37m= [35m0[0m                                                                │
│ [35m5[0m │ [34mvar [36me [37m= [35m0[0m                                                                │
│ [35m6[0m │ [34mfor[37m([34mvar [36mi [37m= [36mx[37m; [1;4;31mi < 5[0m[37m; [36mi[37m++)[0m                                               │
│ [35m7[0m │ [36m    a[37m++[0m                                                                  │
│ [35m8[0m │ [36m    b[37m++[0m                                                                  │
│ [35m9[0m │ [36m    c[37m++[0m                                                                  │
└───┴──────────────────────────────────────────────────────────────────────────┘

========================================= should output only maximum errors using simple formatting
 ============================================================================== 
|           There were more than 3 errors, only showing the first 3.           |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| 1:5 src/a/path/to/the/File.t                                                 |
| Message 1                                                                    |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
|   |     ~                                                                    |
| 2 | var b = 0                                                                |
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
|------------------------------------------------------------------------------|
| ============================== Error DEF2234 =============================== |
| 10:3 src/a/path/to/the/File.t                                                |
| Message 2                                                                    |
|------------------------------------------------------------------------------|
| 7  | a++                                                                     |
| 8  | b++                                                                     |
| 9  | c++                                                                     |
| 10 | d++                                                                     |
|    | ~~~                                                                     |
| 11 | e++                                                                     |
|------------------------------------------------------------------------------|
| ============================== Error GHI2345 =============================== |
| 6:16 src/a/path/to/the/File.t                                                |
| Message 2                                                                    |
|------------------------------------------------------------------------------|
| 3 | var c = 0                                                                |
| 4 | var d = 0                                                                |
| 5 | var e = 0                                                                |
| 6 | for(var i = x; i < 5; i++)                                               |
|   |                ~~~~~                                                     |
| 7 |     a++                                                                  |
| 8 |     b++                                                                  |
| 9 |     c++                                                                  |
 ------------------------------------------------------------------------------ 

========================================= should output only maximum errors as JSON
{"compilationWarnings":[],"compilationErrors":[{"source":"src/a/path/to/the/File.t","start":{"line":1,"col":5},"end":{"line":1,"col":6},"code":"ABC2123","message":"Message 1","notes":[]},{"source":"src/a/path/to/the/File.t","start":{"line":10,"col":3},"end":{"line":10,"col":6},"code":"DEF2234","message":"Message 2","notes":[]},{"source":"src/a/path/to/the/File.t","start":{"line":6,"col":16},"end":{"line":6,"col":21},"code":"GHI2345","message":"Message 2","notes":[]}]}

========================================= should show errors with no source using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                              [1mThere was [31m1[0m[1m error.[0m                              │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ A message with no source                                                     │
└──────────────────────────────────────────────────────────────────────────────┘

========================================= should show errors with no source using simple formatting
 ============================================================================== 
|                              There was 1 error.                              |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| A message with no source                                                     |
 ------------------------------------------------------------------------------ 

========================================= should show errors with no source as JSON
{"compilationWarnings":[],"compilationErrors":[{"source":"Missing Source","start":{"line":1,"col":2},"end":{"line":3,"col":4},"code":"ABC2123","message":"A message with no source","notes":[]}]}

========================================= should output error messages with context size 1 using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                             [1mThere were [31m2[0m[1m errors.[0m                             │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ [1;35m1[0m:[1;35m5[0m src/a/path/to/the/File.t                                                 │
│ A                                                                            │
├───┬──────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m │ [34mvar [1;4;31ma[0m[36m [37m= [35m0[0m                                                                │
│ [35m2[0m │ [34mvar [36mb [37m= [35m0[0m                                                                │
├───┴──────────────────────────────────────────────────────────────────────────┤
│ [31m══════════════════════════════ Error DEF2456 ═══════════════════════════════[0m │
│ [1;35m10[0m:[1;35m3[0m src/a/path/to/the/File.t                                                │
│ B                                                                            │
├────┬─────────────────────────────────────────────────────────────────────────┤
│ [35m9[0m  │ [36mc[37m++[0m                                                                     │
│ [35m10[0m │ [1;4;31md++[0m                                                                     │
│ [35m11[0m │ [36me[37m++[0m                                                                     │
└────┴─────────────────────────────────────────────────────────────────────────┘

========================================= should output error messages with context size 1 using simple formatting
 ============================================================================== 
|                             There were 2 errors.                             |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| 1:5 src/a/path/to/the/File.t                                                 |
| A                                                                            |
|------------------------------------------------------------------------------|
| 1 | var a = 0                                                                |
|   |     ~                                                                    |
| 2 | var b = 0                                                                |
|------------------------------------------------------------------------------|
| ============================== Error DEF2456 =============================== |
| 10:3 src/a/path/to/the/File.t                                                |
| B                                                                            |
|------------------------------------------------------------------------------|
| 9  | c++                                                                     |
| 10 | d++                                                                     |
|    | ~~~                                                                     |
| 11 | e++                                                                     |
 ------------------------------------------------------------------------------ 

========================================= should output error messages with context size 1 as JSON
{"compilationWarnings":[],"compilationErrors":[{"source":"src/a/path/to/the/File.t","start":{"line":1,"col":5},"end":{"line":1,"col":6},"code":"ABC2123","message":"A","notes":[]},{"source":"src/a/path/to/the/File.t","start":{"line":10,"col":3},"end":{"line":10,"col":6},"code":"DEF2456","message":"B","notes":[]}]}

========================================= should output error messages with context size 10 using pretty formatting
╒══════════════════════════════════════════════════════════════════════════════╕
│                             [1mThere were [31m2[0m[1m errors.[0m                             │
╞══════════════════════════════════════════════════════════════════════════════╡
│ [31m══════════════════════════════ Error ABC2123 ═══════════════════════════════[0m │
│ [1;35m1[0m:[1;35m5[0m src/a/path/to/the/File.t                                                 │
│ A                                                                            │
├────┬─────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m  │ [34mvar [1;4;31ma[0m[36m [37m= [35m0[0m                                                               │
│ [35m2[0m  │ [34mvar [36mb [37m= [35m0[0m                                                               │
│ [35m3[0m  │ [34mvar [36mc [37m= [35m0[0m                                                               │
│ [35m4[0m  │ [34mvar [36md [37m= [35m0[0m                                                               │
│ [35m5[0m  │ [34mvar [36me [37m= [35m0[0m                                                               │
│ [35m6[0m  │ [34mfor[37m([34mvar [36mi [37m= [36mx[37m; [36mi [37m< [35m5[37m; [36mi[37m++)[0m                                              │
│ [35m7[0m  │ [36m    a[37m++[0m                                                                 │
│ [35m8[0m  │ [36m    b[37m++[0m                                                                 │
│ [35m9[0m  │ [36m    c[37m++[0m                                                                 │
│ [35m10[0m │ [36m    d[37m++[0m                                                                 │
│ [35m11[0m │ [36m    e[37m++[0m                                                                 │
├────┴─────────────────────────────────────────────────────────────────────────┤
│ [31m══════════════════════════════ Error DEF2456 ═══════════════════════════════[0m │
│ [1;35m10[0m:[1;35m3[0m src/a/path/to/the/File.t                                                │
│ B                                                                            │
├────┬─────────────────────────────────────────────────────────────────────────┤
│ [35m1[0m  │ [34mvar [36ma [37m= [35m0[0m                                                               │
│ [35m2[0m  │ [34mvar [36mb [37m= [35m0[0m                                                               │
│ [35m3[0m  │ [34mvar [36mc [37m= [35m0[0m                                                               │
│ [35m4[0m  │ [34mvar [36md [37m= [35m0[0m                                                               │
│ [35m5[0m  │ [34mvar [36me [37m= [35m0[0m                                                               │
│ [35m6[0m  │ [34mfor[37m([34mvar [36mi [37m= [36mx[37m; [36mi [37m< [35m5[37m; [36mi[37m++)[0m                                              │
│ [35m7[0m  │ [36m    a[37m++[0m                                                                 │
│ [35m8[0m  │ [36m    b[37m++[0m                                                                 │
│ [35m9[0m  │ [36m    c[37m++[0m                                                                 │
│ [35m10[0m │ [36m    [1;4;31md++[0m                                                                 │
│ [35m11[0m │ [36m    e[37m++[0m                                                                 │
└────┴─────────────────────────────────────────────────────────────────────────┘

========================================= should output error messages with context size 10 using simple formatting
 ============================================================================== 
|                             There were 2 errors.                             |
|==============================================================================|
| ============================== Error ABC2123 =============================== |
| 1:5 src/a/path/to/the/File.t                                                 |
| A                                                                            |
|------------------------------------------------------------------------------|
| 1  | var a = 0                                                               |
|    |     ~                                                                   |
| 2  | var b = 0                                                               |
| 3  | var c = 0                                                               |
| 4  | var d = 0                                                               |
| 5  | var e = 0                                                               |
| 6  | for(var i = x; i < 5; i++)                                              |
| 7  |     a++                                                                 |
| 8  |     b++                                                                 |
| 9  |     c++                                                                 |
| 10 |     d++                                                                 |
| 11 |     e++                                                                 |
|------------------------------------------------------------------------------|
| ============================== Error DEF2456 =============================== |
| 10:3 src/a/path/to/the/File.t                                                |
| B                                                                            |
|------------------------------------------------------------------------------|
| 1  | var a = 0                                                               |
| 2  | var b = 0                                                               |
| 3  | var c = 0                                                               |
| 4  | var d = 0                                                               |
| 5  | var e = 0                                                               |
| 6  | for(var i = x; i < 5; i++)                                              |
| 7  |     a++                                                                 |
| 8  |     b++                                                                 |
| 9  |     c++                                                                 |
| 10 |     d++                                                                 |
|    |     ~~~                                                                 |
| 11 |     e++                                                                 |
 ------------------------------------------------------------------------------ 

========================================= should output error messages with context size 10 as JSON
{"compilationWarnings":[],"compilationErrors":[{"source":"src/a/path/to/the/File.t","start":{"line":1,"col":5},"end":{"line":1,"col":6},"code":"ABC2123","message":"A","notes":[]},{"source":"src/a/path/to/the/File.t","start":{"line":10,"col":3},"end":{"line":10,"col":6},"code":"DEF2456","message":"B","notes":[]}]}
